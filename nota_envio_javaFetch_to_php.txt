Gracias por compartir tu c√≥digo PHP. Ya veo el problema principal:

üß† El problema:
Tu archivo exportDir.php espera datos JSON del body, pero tu fetch() le est√° enviando application/x-www-form-urlencoded. Entonces, esta l√≠nea:

php
Copiar
Editar
$datosJSON = file_get_contents("php://input");
$datos = json_decode($datosJSON, true);
est√° devolviendo null, porque el cuerpo no es JSON.

‚úÖ Soluci√≥n r√°pida:
Opci√≥n 1: Cambiar el fetch para que env√≠e JSON (m√°s limpio)
js
Copiar
Editar
fetch('exportDir.php', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({ action: 'exportarDirectorio' })
})
Y en PHP lo puedes leer as√≠ como ya tienes:

php
Copiar
Editar
$datosJSON = file_get_contents("php://input");
$datos = json_decode($datosJSON, true);

if ($datos['action'] === 'exportarDirectorio') {
    exportarDirectorio($con);
}
Opci√≥n 2: O dejar application/x-www-form-urlencoded y cambiar c√≥mo lo recibes en PHP:
En lugar de usar php://input, solo haz:

php
Copiar
Editar
$action = $_POST['action'] ?? '';
if ($action === 'exportarDirectorio') {
    exportarDirectorio($con);
}